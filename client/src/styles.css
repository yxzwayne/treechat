@font-face {
  font-family: "Berkeley Mono";
  src: url("../assets/fonts/Berkeley Mono/BerkeleyMono-Light-SemiCondensed.ttf") format("truetype");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Berkeley Mono";
  src: url("../assets/fonts/Berkeley Mono/BerkeleyMono-SemiCondensed.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Berkeley Mono";
  src: url("../assets/fonts/Berkeley Mono/BerkeleyMono-Medium-SemiCondensed.ttf") format("truetype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Berkeley Mono";
  src: url("../assets/fonts/Berkeley Mono/BerkeleyMono-SemiBold-SemiCondensed.ttf") format("truetype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Berkeley Mono";
  src: url("../assets/fonts/Berkeley Mono/BerkeleyMono-Bold-SemiCondensed.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

:root {
  --bg: #0b0c0f;
  --panel: #12141a;
  --card: #161922;
  --text: #e6e8ef;
  --muted: #9aa0ab;
  --accent: #1ca7ea;
  --border: #242938;
  --col-w: 720px;
  --sidebar-w: 300px;
}
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--text); font-family: "Berkeley Mono", monospace; }

.app-shell { display: grid; grid-template-rows: 1fr; height: 100%; }
/* header removed */
.title { font-weight: 600; font-style: italic; font-size: 1.4rem; margin-bottom: 0.5rem;}
.container { display: block; height: 100%; }
.left-pane { position: fixed; top: 0; bottom: 0; left: 0; width: var(--sidebar-w); border-right: 1px solid var(--border); background: var(--panel); padding: 12px; overflow: auto; }
.tree-pane { height: 100%; overflow: auto; padding: 12px; margin-left: var(--sidebar-w); margin-right: var(--sidebar-w); }
.side-pane { position: fixed; top: 0; bottom: 0; right: 0; width: var(--sidebar-w); border-left: 1px solid var(--border); background: var(--panel); padding: 12px; overflow: auto; }

.node-card { background: var(--card); border: 1px solid var(--border); border-radius: 0px; padding: 10px; width: 100%;}
.node-user { border-left: 4px solid #0042ff; }
.node-assistant { border-left: 4px solid #1ca7ea; }
.node-system { border-left: 4px solid #ffb86b; font-size: 14px; }
.node-header { font-size: 13px; color: var(--muted); display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
.node-content { white-space: pre-wrap; font-size: 15px; }

.children-row { display: flex; gap: 12px; align-items: flex-start; margin-left: 0; margin-top: 12px; }
.column { width: var(--col-w); flex: 0 0 var(--col-w); display: flex; flex-direction: column; gap: 8px; }

.controls { display: flex; gap: 8px; align-items: center; }
.button { background: #1f2432; color: var(--text); border: 1px solid var(--border); padding: 6px 12px; border-radius: 2px; cursor: pointer; font-family: "Berkeley Mono", monospace; font-size: 14px; }
.button:hover { background: #23293a; }
.button.ghost { background: transparent; }
.button.small { padding: 2px 8px; font-size: 12px; }
.button.accent { background: var(--accent); color: black; border: none; }
.button.pale { background: #203041; color: #d7eaff; border: 1px solid #27445f; }
.button.pale:hover { background: #25455f; }
.button.danger { background: #c62828; color: #fff; border: 1px solid #9a1e1e; }
.button.danger:hover { background: #b71c1c; }
.icon-button { background: transparent; border: none; padding: 4px; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; }
.icon-button:hover svg path { stroke: #c1c7d0; }

.text-input, .composer .ta { width: 100%; padding: 10px; border: 1px solid var(--border); background: #0f1117; color: var(--text); }
.text-input { flex: 1; max-width: 100%; border-radius: 8px; display: block; box-sizing: border-box; }
.node-card textarea.text-input { resize: none; overflow: auto; font-size: 14px; font-family: "Berkeley Mono", monospace; }

/* .active { outline: 1px dashed var(--accent); } */

.mono { font-family: "Berkeley Mono", monospace; }

.composer { margin-top: 8px; }
.composer .ta { resize: none; overflow: hidden; font-size: 15px; font-family: "Berkeley Mono", monospace; }
.composer .row { display: flex; gap: 8px; margin-top: 6px; justify-content: flex-end; }

.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000; }
.modal { background: #141924; border: 1px solid var(--border); width: 560px; max-width: 90vw; padding: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
.modal-body { color: #cfd3dc; font-size: 15px; }
.modal-actions { margin-top: 12px; display: flex; gap: 8px; justify-content: flex-end; }

.toast { position: fixed; right: 16px; top: 16px; background: #1b2130; color: #e6e8ef; border: 1px solid #2a3246; padding: 8px 12px; border-radius: 4px; box-shadow: 0 6px 20px rgba(0,0,0,0.4); z-index: 2000; font-size: 13px; }

/* Left sidebar chat items */
.chat-item { text-align: left; color: var(--text); font-family: "Berkeley Mono", monospace; font-size: 13px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; min-width: 0; }
.chat-row { display: flex; align-items: center; gap: 6px; padding: 8px 8px 8px 10px; border: 1px solid transparent; border-radius: 2px; cursor: pointer; transition: background-color 0.12s ease, border-color 0.12s ease; }
.chat-row:hover { background: #141822; border-color: #1f2535; }
.chat-row.active { background: #182036; border-color: #283556; }
.chat-row .chat-delete { opacity: 0; transition: opacity 0.12s ease-in-out; }
.chat-row:hover .chat-delete { opacity: 1; }

/* Floating toggles for sidebars */
.floating-toggle { position: fixed; top: 10px; z-index: 1500; box-shadow: 0 4px 14px rgba(0,0,0,0.4); }
.floating-toggle.left { left: 10px; }
.floating-toggle.right { right: 10px; }
